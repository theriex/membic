<!doctype html>
<html lang="en" itemscope="itemscope" itemtype="http://schema.org/WebPage">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="robots" content="noodp" />
  <meta name="description" content="Scratch space for env testing." />
  <title>Env Test Page</title>
</head>
<body>

<div id="output">Environment test page</div>

<script src="../js/jtmin.js"></script>

<script>
var html="",
    outdiv = document.getElementById("output"),
    jt = {};

jtminjsDecorateWithUtilities(jt);

html += "JSON: " + JSON + "<br/>";
html += "window.JSON: " + window.JSON + "<br/>";

//for IE8, document.documentElement.uniqueID is defined, but not id. 
//window and document have neither id nor uniqueID.
html += "document.documentElement.addEventListener: " + jt.isAvailable(document.documentElement, "addEventListener") + "<br/>";
html += "document.documentElement.removeEventListener: " + jt.isAvailable(document.documentElement, "removeEventListener") + "<br/>";
html += "window.addEventListener: " + jt.isAvailable(window, "addEventListener") + "<br/>";
html += "window.removeEventListener: " + jt.isAvailable(window, "removeEventListener") + "<br/>";
html += "outdiv.addEventListener: " + jt.isAvailable(outdiv, "addEventListener") + "<br/>";
html += "outdiv.removeEventListener: " + jt.isAvailable(outdiv, "removeEventListener") + "<br/>";
html +="<br/>";
html += "document.documentElement.attachEvent: " + jt.isAvailable(document.documentElement, "attachEvent") + "<br/>";
html += "document.documentElement.detachEvent: " + jt.isAvailable(document.documentElement, "detachEvent") + "<br/>";
html += "window.attachEvent: " + jt.isAvailable(window, "attachEvent") + "<br/>";
html += "window.detachEvent: " + jt.isAvailable(window, "detachEvent") + "<br/>";
html += "outdiv.attachEvent: " + jt.isAvailable(outdiv, "attachEvent") + "<br/>";
html += "outdiv.detachEvent: " + jt.isAvailable(outdiv, "detachEvent") + "<br/>";
html += "<br/>";

html += "<a href=\"http://sandservices.com\" title=\"dummy title\">has title</a><br/>";
html += "<a href=\"http://sandservices.com\" title=\"\">empty title</a><br/>";
html += "<br/>";

//html += "tac2html \"\": " + jt.tac2html("") + "<br/>";
//html += "tac2html []: " + jt.tac2html([]) + "<br/>";
//html += "<br/>";

html += "<button id=\"clicker\">Clicker</button>";
html += "<button id=\"stopclick\">Stop Clicker</button>";

html += "<div id=\"colortestdiv\">color input: " + 
    "<input id=\"colorinput\" type=\"color\" value=\"#ffcc99\"/>" +
    "<button id=\"colorbutton\">Ok</button>";
    "</div>";

outdiv.innerHTML = html;

var clickalert = function () {
    alert("Clicked");
};

jt.on(jt.byId('clicker'), 'click', clickalert);

jt.on(jt.byId('stopclick'), 'click', function () {
    jt.off(jt.byId('clicker'), 'click', clickalert); });

//jt.byId('colorinput').setAttribute('type', 'color');
//alert("input type: " + jt.byId('colorinput').getAttribute('type'));
jt.on(jt.byId('colorbutton'), 'click', function () {
    alert("Color is " + jt.byId('colorinput').value); });
jt.on(jt.byId('colorinput'), 'change', function () {
    jt.log("Color changed to " + jt.byId('colorinput').value) });

</script>


</body>
</html>
